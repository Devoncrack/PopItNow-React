{"version":3,"sources":["components/TimeDisplay.tsx","components/TimesTable.tsx","components/Timer.tsx","components/Bubble.tsx","components/BubbleTable.tsx","components/TimesManager.tsx","components/Title.tsx","App.tsx","index.tsx"],"names":["zeroPad","value","digits","padded","toString","length","TimeDisplay","time","string_time","minutes","seconds","milliseconds","className","TimesTable","times","gaming","React","TimerContext","timeRow","span_class","key","uniqueId","rows","entries","index","push","timeRows","map","row","Timer","initialTime","sendFinal","useState","currentTime","setCurrentTime","most_recent_time","useRef","useEffect","timer","setInterval","duration","Date","getTime","Math","floor","current","clearInterval","Bubble","col","onclick","handleClick","events","window","touch","click","undefined","width","alt","onClick","onTouchStart","src","copy_grid","grid","_grid","initial_grid","_inner","j","i","create_initial_grid","BubbleTable","requestGameEnd","requestGameStart","Grid","setGrid","doToggle","gridIsClear","every","el","val","TimesManager","setTimes","setGaming","addTime","Provider","renderTimer","Title","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4OAaMA,EAAU,SAACC,EAAeC,GAI5B,IAHA,IAEIC,EAFeF,EAAMG,WAGlBD,EAAOE,OAASH,GACnBC,EAAS,IAAMA,EAEnB,OAAOA,GAcIG,EAXgD,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAExDC,EAA0B,CAC5BC,QAAST,EAAQO,EAAKE,QAAS,GAC/BC,QAASV,EAAQO,EAAKG,QAAS,GAC/BC,aAAcX,EAAQO,EAAKI,aAAc,IAG7C,OAAQ,qBAAGC,UAAU,QAAQJ,EAAYC,QAAjC,IAA2CD,EAAYE,QAAvD,IAAiEF,EAAYG,eCS1EE,EA/B8C,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACtDC,EAASC,aAAiBC,GAE1BC,EAAU,SAACX,EAAYY,GACzB,OAAIA,EACQ,sBAAIC,IAAKC,sBAAY,wBAAMT,UAAWO,GAAY,gBAAC,EAAD,CAAaZ,KAAMA,MAErE,sBAAIa,IAAKC,sBAAY,gBAAC,EAAD,CAAad,KAAMA,MAcxD,OACI,yBAAOK,UAAW,YACd,6BAdS,WACb,IADmB,EACbU,EAAsB,GADT,cAGSR,EAAMS,WAHf,IAGnB,2BAA6C,CAAC,IAAD,yBAAjCC,EAAiC,KAA1BjB,EAA0B,KAC3B,IAAViB,GAAgBT,EAGhBO,EAAKG,KAAKP,EAAQX,IAFlBe,EAAKG,KAAKP,EAAQX,EAAM,gBALb,8BASnB,OAAOe,EAMFI,GAAWC,KAAI,SAACC,GAAD,OAAS,sBAAIR,IAAKC,sBAAaO,SCO5CC,EA9BoC,SAAC,GAA8B,IAA7BC,EAA4B,EAA5BA,YAAaC,EAAe,EAAfA,UAE9D,EAAsCC,mBAAe,CAACvB,QAAS,EAAGC,QAAS,EAAGC,aAAc,IAA5F,mBAAOsB,EAAP,KAAoBC,EAApB,KACIC,EAAmBC,iBAAO,CAAC3B,QAAS,EAAGC,QAAS,EAAGC,aAAa,IAwBpE,OAtBA0B,qBAAU,WACN,IAAMC,EAAQC,aAAY,WACtB,IAAIC,GAAW,IAAIC,MAAOC,UAAYZ,EAChCrB,EAAUkC,KAAKC,MAAMJ,EAAS,IAAK,IACzCA,GAAsB,IAAV/B,EAAiB,GAC7B,IAAMC,EAAUiC,KAAKC,MAAMJ,EAAS,KAE9BjC,EAAO,CACTE,QAASA,EACTC,QAASA,EACTC,aAJJ6B,GAAsB,IAAV9B,GAMZwB,EAAe3B,GACf4B,EAAiBU,QAAUtC,IAE5B,IACH,OAAO,WACHuC,cAAcR,GACdP,EAAUI,EAAiBU,YAE9B,CAACf,EAAaC,IAEX,wBAAMnB,UAAU,QAAO,gBAAC,EAAD,CAAaL,KAAM0B,MCCvCc,EArBsC,SAAC,GAAgC,IAA/B9C,EAA8B,EAA9BA,MAAO2B,EAAuB,EAAvBA,IAAKoB,EAAkB,EAAlBA,IAAKC,EAAa,EAAbA,QAQ9DC,EAAc,WAChBD,EAAQrB,EAAKoB,IAGXG,EATE,iBAAkBC,OACX,CAACC,MAAOH,EAAaI,WAAOC,GAChC,CAACF,WAAOE,EAAWD,MAAOJ,GASrC,OACI,2BACI,uBAAKM,MAAM,KAAKC,IAAI,oBAAoBC,QAASP,EAAOG,MAAOK,aAAcR,EAAOE,MAAOO,IAAK3D,EAlB7E,2EADF,gFCYvB4D,EAAY,SAACC,GACf,IAAMC,EAAqB,GAE3B,OADAD,EAAKnC,KAAI,SAAAC,GAAG,OAAImC,EAAMtC,KAAN,YAAeG,OACxBmC,GAGLC,EAlBsB,SAACpC,EAAaoB,GAGtC,IAFA,IAAIiB,EAAoB,GACpBF,EAAqB,GAChBG,EAAE,EAAGA,EAAIlB,EAAKkB,IACnBD,EAAOC,IAAK,EAEhB,IAAK,IAAIC,EAAE,EAAGA,EAAIvC,EAAKuC,IACnBJ,EAAMI,GAAN,UAAeF,GAEnB,OAAOF,EASuBK,CArBrB,EACG,GA4DDC,EAtCgD,SAAC,GAAwC,IAAvCC,EAAsC,EAAtCA,eAAgBC,EAAsB,EAAtBA,iBAE7E,EAAwBvC,mBAAsB6B,EAAUG,IAAxD,mBAAOQ,EAAP,KAAaC,EAAb,KACM1D,EAASC,aAAiBC,GAE1ByD,EAAW,SAACP,EAAWD,GACzB,IAAIH,EAAQF,EAAUW,GAEtB,GADAT,EAAMI,GAAGD,IAAMH,EAAMI,GAAGD,GACpBnD,GACA,GAAI4D,EAAYZ,GAEZ,OADAO,IACOG,EAAQZ,EAAUG,SAG7BO,IAEJ,OAAOE,EAAQV,IAGbY,EAAc,SAACb,GACjB,OAAOA,EAAKc,OAAM,SAAAhD,GAAG,OAAIA,EAAIgD,OAAM,SAAAC,GAAE,OAAKA,SAG9C,OACI,yBAAOjE,UAAW,YACd,6BACE4D,EAAK7C,KAAI,SAACC,EAAKuC,GAAN,OACP,sBAAI/C,IAAKC,sBAAaO,EAAID,KAAI,SAACmD,EAAKZ,GAAN,OAC1B,sBAAI9C,IAAKC,sBACL,gBAAC,EAAD,CAAQpB,MAAO6E,EAAKlD,IAAKuC,EAAGnB,IAAKkB,EAAGjB,QAASyB,eC/CxDzD,EAAeD,iBAAoB,GAoCjC+D,EAlCkD,WAE7D,MAA0B/C,mBAAiB,IAA3C,mBAAOlB,EAAP,KAAckE,EAAd,KACA,EAA4BhD,oBAAS,GAArC,mBAAOjB,EAAP,KAAekE,EAAf,KAUMC,EAAU,SAAC3E,GACbyE,EAAS,CAACzE,GAAF,mBAAWO,MASvB,OACI,gBAACG,EAAakE,SAAd,CAAuBlF,MAAOc,GAC1B,gBAAC,EAAD,CAAauD,eAhBL,WACZW,GAAU,IAeiCV,iBApB7B,WACdU,GAAU,MAoBN,uBAAKrE,UAAW,eATJ,WAChB,GAAIG,EACA,OAAO,gBAAC,EAAD,CAAOe,aAAa,IAAIW,MAAOC,UAAWX,UAAWmD,IAQvDE,GACD,gBAAC,EAAD,CAAYtE,MAAOA,OCpCpBuE,EAJoC,WAC/C,OAAS,uBAAKzE,UAAU,SAAf,UAA8B,2BAA9B,SCOE0E,MATf,WACE,OACE,6BACE,kBAAC,EAAD,MACA,kBAAC,EAAD,QCJNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.3ed86b0e.chunk.js","sourcesContent":["import * as React from 'react';\nimport { Time } from './TimesManager'\n\ninterface TimeDisplayProps {\n    time: Time,\n}\n\ninterface StringTime {\n    minutes: string,\n    seconds: string,\n    milliseconds: string,\n}\n\nconst zeroPad = (value: number, digits: number): string => {\n    const string_val = value.toString()\n    \n    let padded = string_val\n    while (padded.length < digits) {\n        padded = \"0\" + padded\n    }\n    return padded\n}\n  \nconst TimeDisplay: React.FunctionComponent<TimeDisplayProps> = ({ time }) => {\n    \n    const string_time: StringTime = {\n        minutes: zeroPad(time.minutes, 2),\n        seconds: zeroPad(time.seconds, 2),\n        milliseconds: zeroPad(time.milliseconds, 3),\n    }\n\n    return (<p className=\"time\">{string_time.minutes}:{string_time.seconds}.{string_time.milliseconds}</p>);\n}\n\nexport default TimeDisplay;","import * as React from 'react';\nimport { uniqueId } from 'lodash';\nimport { Time, TimerContext } from './TimesManager'\nimport TimeDisplay from './TimeDisplay'\n\ninterface TimesTableProps {\n    times: Time[],\n}\n\nconst TimesTable: React.FunctionComponent<TimesTableProps> = ({ times }) => {\n    const gaming = React.useContext(TimerContext)\n\n    const timeRow = (time: Time, span_class?: string) => {\n        if (span_class)\n            return (<td key={uniqueId()}><span className={span_class}><TimeDisplay time={time}/></span></td>)\n        else\n            return (<td key={uniqueId()}><TimeDisplay time={time}/></td>)\n    }\n    const timeRows = () => {\n        const rows: JSX.Element[] = []\n\n        for (const [index, time] of times.entries()) {\n            if (index === 0 && !gaming)\n                rows.push(timeRow(time, \"bold green\"))\n            else\n                rows.push(timeRow(time))\n        }\n        return rows\n    }\n\n    return (\n        <table className= \"centered\">\n            <tbody>\n            {timeRows().map((row) => <tr key={uniqueId()}>{row}</tr>)}\n            </tbody>\n        </table>\n    )\n;\n}\n \nexport default TimesTable;","import * as React from 'react';\nimport { useState, useEffect, useRef } from 'react';\nimport TimeDisplay from './TimeDisplay';\nimport { Time } from './TimesManager'\n\ninterface TimerProps {\n    initialTime: number,\n    sendFinal: (arg: Time) => void,\n}\n \nconst Timer: React.FunctionComponent<TimerProps> = ({initialTime, sendFinal}) => {\n\n    const [currentTime, setCurrentTime] = useState<Time>({minutes: 0, seconds: 0, milliseconds: 0})\n    let most_recent_time = useRef({minutes: 0, seconds: 0, milliseconds:0 })\n\n    useEffect(() => {\n        const timer = setInterval(() => {\n            let duration = new Date().getTime() - initialTime\n            const minutes = Math.floor(duration/1000/60)\n            duration -= minutes * 1000 * 60\n            const seconds = Math.floor(duration/1000)\n            duration -= seconds * 1000\n            const time = { \n                minutes: minutes,\n                seconds: seconds,\n                milliseconds: duration,\n            }\n            setCurrentTime(time)\n            most_recent_time.current = time\n\n        }, 10);\n        return () => {\n            clearInterval(timer)\n            sendFinal(most_recent_time.current)\n        };\n      }, [initialTime, sendFinal]);\n\n    return (<span className=\"bold\"><TimeDisplay time={currentTime}/></span>);\n}\n \nexport default Timer;\n\n","import * as React from 'react';\n\ninterface BubbleProps {\n    value: boolean,\n    row: number,\n    col: number,\n    onclick: (arg1: number, arg2: number) => void,\n}\n\ninterface InteractionEvents {\n    touch: undefined | (() => void),\n    click: undefined | (() => void),\n}\n\nconst pressed_link: string = \"https://upload.wikimedia.org/wikipedia/commons/9/96/Button_Icon_White.svg\"\nconst unpressed_link: string = \"https://upload.wikimedia.org/wikipedia/commons/3/3f/Button_Icon_Blue.svg\"\n\nconst Bubble: React.FunctionComponent<BubbleProps> = ({value, row, col, onclick}) => {\n\n    const interaction_event = (): InteractionEvents => {\n        if ('ontouchstart' in window)\n            return {touch: handleClick, click: undefined}\n        return {touch: undefined, click: handleClick}\n    }\n\n    const handleClick = () => {\n        onclick(row, col)\n    }\n\n    const events = interaction_event()\n\n    return (\n        <div>\n            <img width=\"32\" alt=\"Glass button blue\" onClick={events.click} onTouchStart={events.touch} src={value ? unpressed_link : pressed_link}></img>\n        </div>\n    );\n}\n \nexport default Bubble;","import * as React from 'react';\nimport Bubble from './Bubble';\nimport { useState } from 'react';\nimport { uniqueId } from 'lodash'\nimport { TimerContext } from './TimesManager'\n\ninterface BubbleTableProps {\n    requestGameEnd: () => void,\n    requestGameStart: () => void,\n}\n\nconst rows = 5;\nconst columns = 6;\n\nconst create_initial_grid = (row: number, col: number): boolean[][] => {\n    let _inner: boolean[] = []\n    let _grid: boolean[][] = []\n    for (let j=0; j < col; j++) {\n        _inner[j] = true\n    }\n    for (let i=0; i < row; i++) {\n        _grid[i] = [..._inner] \n    }\n    return _grid\n}\n\nconst copy_grid = (grid: boolean[][]): boolean[][] => {\n    const _grid: boolean[][] = []\n    grid.map(row => _grid.push([...row]))\n    return _grid\n}\n\nconst initial_grid: boolean[][] = create_initial_grid(rows, columns)\n\nconst BubbleTable: React.FunctionComponent<BubbleTableProps> = ({requestGameEnd, requestGameStart}) => {\n\n    const [Grid, setGrid] = useState<boolean[][]>(copy_grid(initial_grid))\n    const gaming = React.useContext(TimerContext)\n\n    const doToggle = (i: number, j: number) => {\n        let _grid = copy_grid(Grid)\n        _grid[i][j] = !_grid[i][j]\n        if (gaming) {\n            if (gridIsClear(_grid)) {\n                requestGameEnd()\n                return setGrid(copy_grid(initial_grid))\n            }\n        } else {\n            requestGameStart()\n        }\n        return setGrid(_grid)\n    }\n\n    const gridIsClear = (grid: boolean[][]): boolean => {\n        return grid.every(row => row.every(el => !el))\n    }\n\n    return (  \n        <table className= \"centered\">\n            <tbody>\n            { Grid.map((row, i) => (\n                <tr key={uniqueId()}>{row.map((val, j) => (\n                    <td key={uniqueId()}>\n                        <Bubble value={val} row={i} col={j} onclick={doToggle}/>\n                    </td>\n                ))}</tr>\n            ))}\n            </tbody>\n        </table>\n    )\n}\n\nexport default BubbleTable;","import * as React from 'react';\nimport TimesTable from './TimesTable';\nimport { useState } from 'react';\nimport Timer from './Timer';\nimport BubbleTable from './BubbleTable';\n\ninterface TimesManagerProps {\n    \n}\n\nexport interface Time {\n    minutes: number,\n    seconds: number,\n    milliseconds: number,\n}\n\nexport const TimerContext = React.createContext(false)\n \nconst TimesManager: React.FunctionComponent<TimesManagerProps> = () => {\n\n    const [times, setTimes] = useState<Time[]>([])\n    const [gaming, setGaming] = useState(false)\n  \n    const startGame = () => {\n        setGaming(true)\n    }\n\n    const endGame = () => {\n        setGaming(false)\n    }\n\n    const addTime = (time: Time) => {\n        setTimes([time, ...times])\n    }\n\n    const renderTimer = () => {\n        if (gaming) {\n            return <Timer initialTime={new Date().getTime()} sendFinal={addTime}/>\n        }\n    }\n\n    return (\n        <TimerContext.Provider value={gaming}>\n            <BubbleTable requestGameEnd= {endGame} requestGameStart= {startGame}/>\n            <div className= \"center-text\">\n                {renderTimer()}\n                <TimesTable times={times}/>\n            </div> \n        </TimerContext.Provider>\n    );\n}\n \nexport default TimesManager;","import * as React from 'react';\n\ninterface TitleProps {\n    \n}\n \nconst Title: React.FunctionComponent<TitleProps> = () => {\n    return ( <div className=\"title\">Pop It.<br/>Now.</div> );\n}\n \nexport default Title;","import React from 'react';\nimport './App.css';\nimport TimesManager from './components/TimesManager';\nimport Title from './components/Title'\n\nfunction App() {\n  return (\n    <div>\n      <Title />\n      <TimesManager />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}